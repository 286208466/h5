<!--
                          @&&$$$$$$$&&@@                          
                   &$$$$$$$$$$$$$$$$$$$$$$$$$&@                   
              @&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&               
           @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&@           
         &$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&         
      @&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&       
     &$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&@       
   @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&            
  @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&@         @&$$@  
 @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&           &$$$$$$$@ 
@$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&@           @&$$$$$$$$$$&@
&$$$$$$$$$$$$$@   &$$$$$$$$$$$$$$$$&             &$$$$$$$$$$$$$$$&
&$$$$$$$$$$$$$$@    @&$$$$$$$$&@             @&$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$@      @&$&               &$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$@                    @&$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$&@                &$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
&$$$$$$$$$$$$$$$$$&            @&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
@$$$$$$$$$$$$$$$$$$&        @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&&
 &$$$$$$$$$$$$$$$$$$&   @&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$@ 
  &$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$@  
   &$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$@   
    @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&     
      @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$@      
        @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$@        
          @&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&           
            &$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&              
           @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&                  
           &$$$$$$&    @&&$$$$$$$$$$$$$$&@                        
          @$$$$@            
                                                
                智八哥出品
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="format-detection" content="telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<title></title>
<style>
#bgAudioBtn {
    position: fixed;
    top: 0.3rem;
    right: 0.3rem;
    width: 0.64rem;
    height: 0.64rem;
    z-index: 999;
}
#bgAudioBtn i {
	position: absolute;
	width: 0.64rem;
    height: 0.64rem;
}
#bgAudioBtn i:after {
	content: "";
    position: absolute;
    width: 0.64rem;
    height: 0.64rem;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAABhlBMVEVHcEwAAAAAAAD5+fkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASEhJ9fX1zc3NLS0sGBgYYGBi/v79fX1+Wlpb29vaMjIz9/f3o6Oj19fVWVlbQ0NAjIyP4+Pj7+/vHx8fU1NTs7Ozg4OD8/Pz6+vr19fU7Ozs2NjbJycng4ODd3d3m5ualpaWFhYU/Pz/4+Ph3d3eIiIjl5eX////CwsLW1tb6+vro6Ojs7Oz8/PzLy8vj4+Pk5OTj4+Pq6ur7+/tZWVlcXFzy8vLh4eH6+vrq6uooKCjw8PBiYmLw8PDT09Py8vK8vLzz8/Ojo6P19fXAwMD5+fkMDAzl5eXh4eHT09P29vb5+fn5+fmxsbGSkpL9/f1lZWVpaWm0tLSNjY3a2tp7e3v///+cnJyVlZX29vb7+/u4uLj39/ezs7Ps7Ozz8/Pz8/PMzMz19fXu7u6/v7/y8vIeHh729vbw8PDo6Ojh4eHX19fn5+fS0tLq6urj4+P///+k1oEZAAAAgXRSTlMAIw3lCR8YJiQHCiAlAhEeFylBPjMnKWk4TNZH/KfONX0r3vFyg7KW9uvRLy9zlZKmVUUw20BFo/1theiptfJ2oKGdrew2N8iZ6bIsvTnBgsVnylTPauEoopuA1OPkXEv7OjpgSIxA/FBL2e5i2l60zct507toxirawqyah6Z/r5yOY4ppAAACNklEQVRIx6WWVXfbQBCFV47tKzm2ZBliCDNz0jZlbsrMzMwp4/zzPli2tLMr2UedJ2lH39nV3SEhVLPstGOYgGk4adsSHVgyb0AyI59sgyRS0FgqEbWLFgGAVNhuuTQiLJ3TMVY3Iq1bI0nGRBszM4oCWbS1LNMj0wEDZKW9LBMdmRn4r5xWg52HJ3sUNXwN9VqPEA30Ksq37tRfO33Rf+4ior4Dg4xq3nIgDgZnzksQ0egYiw1P7eBa9dJlGSLa7UpUgm8EoDQwzyBaUrdKskPPnhtiEFWUv8pzgebOnPWgry8b0MjVoD8vhDAUrYdPPW5ABayPXyEieihlpRCW5obciQUPAnpuTBFdk9yWsHX36n7/W8ZPKgAAHt2muuS1Q6KhvPSrjN/rjZfirXuuHBVOSGz++ON/eHfqQdDlaHTwbHFttfVcuS8rEZ4U36ZnQxJERGTP2/dzekcUhA+fS3oo/HiTLubflbTH0whxsrLQf31stWvrCz59rKp+QyP50HQjkZ5SAXg1U1Q+cJTLdU+0gpsKAN7Ui2rK8zA6SDKE5dcr7BObB+y2HRzCs/pzsIBlSiwGGPIOVntRY6nBknBPgNnbLHsra8ssCeV07w9A21urT27eYUVMKiwbPrPriL9cvDAs1zCphJWPNZnjNX2gJIRaw0oTRETUd6ga0kjVsgwAveP7N/cdDYvIZHQD0LfeNq1G23hz/9fU4rXPeI063kgQb/iIN+bEG6hijm4xh8TOxtF/LhWjzcPoIy0AAAAASUVORK5CYII=) no-repeat;
    background-size: cover;
}
#bgAudioBtn.on i {
	-webkit-animation: bgm 1s linear 0s infinite;
    animation: bgm 1s linear 0s infinite;
}
#bgAudioBtn.on i:after {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAABDlBMVEUAAAAAAAAAAACampoAAAAAAAAAAABHcEz29vYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD7+/sYGBgeHh7////o6Ojo6OjGxsb6+vp1dXXe3t78/PylpaXq6uoGBgbu7u5LS0vm5ub19fX7+/vh4eHu7u7Kysrq6urT09Pm5uZ3d3cMDAxZWVl/f3+dnZ39/f3T09PJycnb29uPj4/s7Oz29vbz8/Nubm7b29uMjIy1tbXb29s/Pz/7+/v5+fm8vLygoKDo6Oj6+vpzc3OQkJCDg4O7u7v9/f0tLS34+Pj////8/PwSEhLj4+Pl5eXe3t7CwsKzs7P9/f37+/ucnJz9/f1WVlYxMTH////bZPQRAAAAWXRSTlMmByNPGAkfANckDQIKJSARHhfvKSr8qaxw5j+V8VWsJ70zpNDsmbt1rYClQCg2QlH2gXOOSbXVzjyPR2GQMPDjaFGr6T5KRGb8Ld/99imfo5RtX/rrUPg1LreKM90AAAGtSURBVEjHpdbXdoMwDABQmWJSRgI0O+nee++9997+/x9pmqQJ2DLmuHrIg8k9gJAtQUYM4puBYQPYRmD6BPkD8As0NCAWRkgVyLEACctJQBQlTUYlyDUhIUwXQyQHiZEjIvJsUITt8cjJgjKyThx5KUxDeVFEbEgVNukiF83BzPhEQciG20F4rjcZG1sXMv+HKP4svYyx4ugCt0rbyJIjxvqnuNpoIQeSEGPT+diy00SWArEyfyuQvVEEsQr3VpAJ5eizjY4eouthAxly9PH1+nT4q65iuzIDBOSop/F7UL9m7DR2gYCvQAAnZ+w2dsEHU4mgVr27iVUFBGoEF/eX0QsBGCkQHJ/HMgF2GsRtkITNI0Wgh7QeD0lEfm//8fnlW4oMJOWr1WbBvb/JUCB83KFyp7hlyBTKqM6UyOcLdrGoRoTfGjsRw3bxPAibcCNilgsoCoXtXoqgQfzpqHCwVLqmbxvvb+IRNr/VMQP4jRzksBwZbpnJGshuhB3LS2ul2ZU5WUXS5AaAV4Oi1aCN1/1fU9Nrn3qNWm8k0Bs+9MYcvYFKc3TTHBLTjaM/Ed1Zn+wBdNwAAAAASUVORK5CYII=) no-repeat;
    background-size: cover;
}
@-webkit-keyframes bgm {
    0% {
        -webkit-transform: rotate(0deg)
    }

    100% {
        -webkit-transform: rotate(360deg)
    }
}
/*
	加载

#loadingWrap {
	width: 100%;
    height: 100%;
    position: absolute;
    top: 0px;
    left: 0px;
    text-align: center;
    background-color: #ffbe00;
    z-index: 1000;
}
#loadingWrap img {
	width: 12%;
    top: 40%;
    left: 45%;
    margin: auto;
    position: absolute;
}
#loadingWrap span {
	display: block;
    color: #fff;
    width: 100%;
    top: 58%;
    left: 0;
    margin: auto;
    position: absolute;
    font-size: 0.36rem;
}
*/
/*
	图片预览
*/
#previewWrap {
	position: fixed;
	top: 50%;
	left: 50%;
	width: 100%;
	height: 0;	
	-webkit-transition: all 0.3s ease;
	transition: all 0.3s ease;
	opacity: 0;
	-webkit-transform: translate(-50%, -50%);
	transform: translate(-50%, -50%);
	overflow: hidden;
	background: #000;
	z-index: 10001;
}
#previewWrap img {
	max-width: 100%;
	position: absolute;
	left: 0;
	top: 50%;
	-webkit-transform: translate(0, -50%);
	transform: translate(0, -50%);
}
#previewWrap.show {
	opacity: 1;
	height: 100%;
}

/*
	预加载
*/
#preloadWrap {
	width: 100%;
	height: 100%;
	background: #000;
	position: relative;
	overflow: hidden;
	z-index: 999;
	text-align: center;
}
#preloadWrap .text {
	position: absolute;
	width: 100%;
	height: 100%;
	overflow: hidden;
	color: #fff;
	opacity: 0;
	-webkit-transition: all 2s ease;
	transition: all 2s ease;
    font-size: 0.42rem;
}
#preloadWrap .flex {
	justify-content: center;
    align-items: center;
}
#topScreen, #bottomScreen {
	position: absolute;
	height: 50%;
	background: #000;
	width: 100%;
	transition: all 0.5s ease;
	top: 0;
	opacity: 1;
}
#topScreen .logo {
    position: absolute;
    bottom: 5px;
    left: 50%;
    transform: translate(-50%, 0);
}
#bottomScreen {
	top: auto;
	bottom: 0;
}
#mainView.show #topScreen {
	-webkit-transform: translate(0, -100%);
	transform: translate(0, -100%);
	opacity: 0;
}
#mainView.show #bottomScreen {
	-webkit-transform: translate(0, 100%);
	transform: translate(0, 100%);
	opacity: 0;
}  
</style>
</head>
<body class="spring-body">

	<!-- <div id="loadingWrap">
		<img src="./src/img/spring/loading.gif">
		<span>0%</span>
	</div> -->

	<audio preload="" id="bgm" class="bgm hide" loop="loop" autoplay>
       <!--  <source src="./src/file/bgm.mp3" type="audio/mpeg"> -->
    </audio>
	<a id="bgAudioBtn" class="on">
		<i></i>
	</a>
	
	<div id="preloadWrap">
		<div class="text flex" id="t1">
			<p class="flexitem">请放心</p>
		</div>
		<div class="text flex" id="t2">
			<p class="flexitem">您的手机是正常的</p>
		</div>
		<div class="text flex" id="t3">
			<p class="flexitem">耐心点，还在加载中呢</p>
		</div>
		<div class="text flex" id="t4">
			<p class="flexitem">让我们来看看进度条吧</p>
		</div>
		<div class="text" id="mainView">
			<div id="topScreen">
				<a class="logo">
					<img src="./src/img/spring/logo.png">
				</a>
			</div>
			<div id="bottomScreen">
				<p>0%</p>
			</div>
			<canvas id="mainCanvas" width="375" height="667"></canvas>
		</div>
	</div>
	
	<div class="scene scene1" id="scene1">
		<canvas id="snowCanvas"></canvas>
		<div class="content">
			<canvas id="scene1canvas" width="258" height="383"></canvas>
			<div>
				<div id="goBtn">
					<a data-target="success" class="hide go1">回家</a>
					<a data-target="failure" class="hide go2">继续抢</a>
					<a data-target="failure" class="hide go3">不抢了</a>
				</div>
				<div id="ticketBtn">
					<div class="circles">
						<div>
						</div>
					</div>
					<a class="btn">抢</a>
				</div>
			</div>
		</div>
	</div>
	
	<div class="scene" id="scene2">
		<canvas id="scene2canvas"></canvas>
		<video id="scene2video" webkit-playsinline="" playsinline="" src="./src/file/zbg.mp4"></video>
	</div>
	
	<div class="scene" id="scene3">
		<div class="content">
			<h2 class="title">
				<img src="./src/img/spring/scene3title.png" width="100%">
			</h2>
			<div class="info">
				<div class="clearfix">
					<a class="code">
						<img src="./src/img/spring/scene3code.png" width="100%">
					</a>
				</div>
				<a class="btn showInputBtn">生成专属藏头诗</a>
				<div class="btnGroupWrap">
					<div>
						<a class="btn" id="remakeBtn">重新生成</a>
						<a class="btn" id="reinputBtn">我要继续做诗</a>
					</div>
					<p>
						<a id="getImgBtn">生成图片</a>
					</p>
				</div>
				<a class="copyright"></a>
			</div>
			<div id="words">
				<ul></ul>
			</div>
		</div>
		<div id="inputDialog">
			<div class="mask"></div>
			<div>
				<h2 class="logo">
					<img src="./src/img/spring/logo2.png">
				</h2>
				<div class="input">
					<p>智能机器人藏头诗</p>
					<div>
						<input type="text">
					</div>
				</div>
				<div class="btnWrap">
					<p>点击此按钮生成属于自己的藏头诗</p>
					<a class="btn" id="makeBtn">生成</a>
				</div>
			</div>
		</div>
	</div>
	
	<div id="previewWrap">
		<div>
			<img src="">
		</div>
	</div>
	
<script type="text/javascript" src="./src/js/jquery.js"></script>	
<script type="text/javascript" src="./src/js/createjs-2015.11.26.min.js"></script>
<script type="text/javascript" src="./src/js/tweenjs/CSSPlugin.js"></script>
<script>

var htmlWidth = $('html').width();
var designWidth = 750;

$('html').css({
	'font-size': htmlWidth / designWidth * 100 + 'px'
});


var startTime = new Date().getTime();
function preloading(isShowPre){
	createjs.CSSPlugin.install(createjs.Tween);
	
	if(isShowPre){
		
		var t1 = document.getElementById("t1");
		createjs.Tween.get(t1, {loop: false})
			.set({opacity: "1"}, t1.style)
			.wait(2000)
			.set({opacity: "0"}, t1.style)
			
		var t2 = document.getElementById("t2");
		createjs.Tween.get(t2, {loop: false})
			.wait(4000)
			.set({opacity: "1"}, t2.style)
			.wait(2000)
			.set({opacity: "0"}, t2.style)
			
		var t3 = document.getElementById("t3");
		createjs.Tween.get(t3, {loop: false})
			.wait(8000)
			.set({opacity: "1"}, t3.style)
			.wait(2000)
			.set({opacity: "0"}, t3.style)
			
		var t4 = document.getElementById("t4");
		createjs.Tween.get(t4, {loop: false})
			.wait(12000)
			.set({opacity: "1"}, t4.style)
			.wait(2000)
			.set({opacity: "0"}, t4.style)
		
		var mainView = document.getElementById("mainView");
		createjs.Tween.get(mainView, {loop: false})
			.wait(16000)
			.set({opacity: "1"}, mainView.style);
		
	}else{
		
		var mainView = document.getElementById("mainView");
		createjs.Tween.get(mainView, {loop: false})
			.wait(1000)
			.set({opacity: "1"}, mainView.style);
		
	}
	createjs.Ticker.setFPS(10);
	
	//加载资源
	loadResource();
	
}
preloading(true);

//加载资源
var loader;
function loadResource(){
	loader = new createjs.LoadQueue();
	loader.installPlugin(createjs.Sound);
	loader.on("fileload", handleFileComplete);
	loader.on("progress", handleProgress);
	loader.on("complete", handleAllComplete);
	loader.loadFile({id: "bgm", src: "./src/file/bgm.mp3"});
	//loader.loadFile({id: "video", src: "./src/file/video.mp4"});
	var manifest = [
		{id: "scene1", src: "./src/img/spring/scene1.jpg"}
		,{id: "scene1Ticket", src: "./src/img/spring/scene1Ticket.png"}
		,{id: "bgTicket", src: "./src/img/spring/bg-ticket.png"}
		,{id: "tickets_success", src: "./src/img/spring/tickets_success.png"}
		,{id: "tickets_failure", src: "./src/img/spring/tickets_failure.png"}
		
		,{id: "scene2bg", src: "./src/img/spring/scene2.jpg"}
		
		,{id: "scene3text", src: "./src/img/spring/scene3text.png"}
		
	];
	loader.loadManifest(manifest);
}
function handleFileComplete(evt){
	
}
//加载完成事件
function handleAllComplete(){
	
	//播放音乐
	createjs.Sound.play("bgm");
	
	var endTime = new Date().getTime();
	//$("#loadingWrap").fadeOut(400);
	$("#mainView").addClass("show");
	
	//初始化界面
	initMainView();
	
}

function handleProgress(evt){
	$("#bottomScreen p").text(Math.floor(evt.loaded*100) + "%");
	//$("#loadingWrap span").text(Math.floor(evt.loaded*100) + "%");
}

//初始化界面
function initMainView = function(){
	
}

</script>
<script type="text/javascript" src="./dist/spring.js"></script>
</body>
</html>